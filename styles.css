:root {
  --menu-bg: #f2c94c;
  --menu-header: #5b2f22;
  --menu-text: #1f1f1f;
  --menu-paper: rgba(255, 255, 255, 0.26);
  --ui-border: #d8e0f2;
  --ui-muted: #5b6a87;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: Inter, Arial, sans-serif;
  background: radial-gradient(circle at 20% 10%, #eef2ff 10%, #f6f7fd 42%, #f0f4ff 100%);
  color: #141925;
}

.app-shell { max-width: 1800px; margin: 0 auto; padding: 1rem; }

.app-header {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  align-items: flex-start;
  border-radius: 20px;
  padding: 1.2rem 1.35rem;
  color: #fff;
  background: linear-gradient(115deg, #111827, #3f1f0f 55%, #7f1d1d);
  box-shadow: 0 20px 50px rgba(11, 16, 37, 0.35);
}

.eyebrow { margin: 0; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 0.09em; opacity: 0.82; }
.app-header h1 { margin: 0.25rem 0 0; font-family: Cinzel, 'Playfair Display', serif; font-size: clamp(1.7rem, 3vw, 2.8rem); }
.subtitle { margin: 0.35rem 0 0; opacity: 0.92; }

.chip-row { display: flex; gap: 0.45rem; flex-wrap: wrap; }
.chip {
  border-radius: 999px;
  padding: 0.35rem 0.7rem;
  border: 1px solid rgba(255, 255, 255, 0.3);
  background: rgba(255, 255, 255, 0.16);
  font-size: 0.76rem;
  font-weight: 700;
}

.layout { display: grid; grid-template-columns: minmax(480px, 1fr) minmax(680px, 1.2fr); gap: 1rem; margin-top: 1rem; }

.panel {
  border-radius: 18px;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  box-shadow: 0 16px 35px rgba(38, 45, 70, 0.09);
  padding: 1rem;
}

.panel-head { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 0.8rem; }
.panel-head h2 { margin: 0; }
.panel-head p { margin: 0; color: var(--ui-muted); font-size: 0.82rem; font-weight: 600; }

.controls-panel { max-height: calc(100vh - 140px); overflow: auto; }
.preview-panel { position: sticky; top: 1rem; height: calc(100vh - 124px); overflow: auto; }

.stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.65rem; margin-bottom: 0.9rem; }
.stats-grid article { background: linear-gradient(140deg, #f8faff, #eef1ff); border: 1px solid #dce4ff; border-radius: 12px; text-align: center; padding: 0.55rem; }
.stats-grid strong { display: block; font-size: 1.35rem; color: #2f3c8e; }
.stats-grid span { font-size: 0.76rem; color: var(--ui-muted); font-weight: 600; }

.control-grid, .color-grid { display: grid; gap: 0.65rem; }
.color-grid { grid-template-columns: repeat(3, minmax(100px, 1fr)); }
.control-group { display: flex; flex-direction: column; gap: 0.34rem; margin-bottom: 0.65rem; }
.control-group.compact { margin-bottom: 0.45rem; }

label { font-size: 0.84rem; font-weight: 700; color: #2a3654; }
small { color: var(--ui-muted); font-size: 0.76rem; }

input, textarea, button, select { font: inherit; }
input[type='text'], textarea, input[type='color'], select {
  width: 100%;
  border: 1px solid var(--ui-border);
  border-radius: 10px;
  background: #fff;
  padding: 0.55rem 0.65rem;
}
input:focus, textarea:focus, select:focus { outline: none; border-color: #7f8af7; box-shadow: 0 0 0 3px rgba(127, 138, 247, 0.2); }

.button-row { display: flex; gap: 0.55rem; flex-wrap: wrap; }
.main-actions { margin-bottom: 0.95rem; }

button {
  border: 0;
  border-radius: 10px;
  color: #fff;
  background: linear-gradient(120deg, #4f46e5, #7c3aed);
  font-weight: 700;
  padding: 0.5rem 0.8rem;
  cursor: pointer;
}
button:hover { filter: brightness(1.06); transform: translateY(-1px); }
button.secondary { background: linear-gradient(120deg, #475569, #334155); }
button.primary { background: linear-gradient(120deg, #ea580c, #dc2626); }
button.success { background: linear-gradient(120deg, #0f8a6a, #0f766e); }
button.danger { background: linear-gradient(120deg, #d94646, #b91c1c); }

.editor-page { border: 1px solid #dce2f5; border-radius: 12px; background: #f9fbff; padding: 0.7rem; margin-bottom: 0.8rem; }
.page-head, .section-head { display: flex; gap: 0.5rem; margin-bottom: 0.45rem; }
.page-title, .section-name { flex: 1; font-weight: 700; }

.editor-section { border: 1px solid #dae2f2; border-radius: 10px; background: #fff; padding: 0.55rem; margin-bottom: 0.6rem; }

table { width: 100%; border-collapse: separate; border-spacing: 0; border: 1px solid #dfe6f4; border-radius: 10px; overflow: hidden; }
th, td { border-right: 1px solid #e4eaf7; border-bottom: 1px solid #e4eaf7; padding: 0.23rem; }
th { text-transform: uppercase; font-size: 0.74rem; letter-spacing: 0.03em; color: #2a3756; background: #eef2ff; }
tr:last-child td { border-bottom: 0; }
th:last-child, td:last-child { border-right: 0; }
tbody tr:nth-child(even) td { background: #fbfcff; }

.preview-pages { display: flex; flex-direction: column; gap: 1rem; }

.menu-page {
  position: relative;
  overflow: hidden;
  border-radius: 15px;
  padding: 18px;
  min-height: 1120px;
  color: var(--menu-text);
  background: linear-gradient(165deg, color-mix(in srgb, var(--menu-bg) 85%, white), var(--menu-bg));
  border: 1px solid rgba(17, 24, 39, 0.1);
  box-shadow: 0 18px 38px rgba(44, 48, 71, 0.2);
}

.menu-page::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at top right, rgba(255, 255, 255, 0.34), transparent 45%);
  pointer-events: none;
}

.menu-brand {
  margin: 0;
  text-align: center;
  font-family: Cinzel, 'Playfair Display', serif;
  text-transform: uppercase;
  font-size: clamp(2rem, 3.8vw, 3.5rem);
  color: #ef264f;
  letter-spacing: 0.04em;
  text-shadow: 0 6px 14px rgba(0, 0, 0, 0.1);
}

.menu-tagline { margin: 0.25rem 0 0.75rem; text-align: center; font-weight: 600; color: color-mix(in srgb, var(--menu-text) 74%, #fff); }
.menu-page-title { margin: 0.2rem 0 0.85rem; text-align: center; text-transform: uppercase; font-weight: 900; letter-spacing: 0.12em; }

.menu-section {
  margin-bottom: 12px;
  border-radius: 10px;
  overflow: hidden;
  border: 2px solid color-mix(in srgb, var(--menu-header) 35%, transparent);
  background: var(--menu-paper);
}

.section-header {
  display: grid;
  grid-template-columns: 2fr 0.8fr 0.8fr 2fr 0.8fr 0.8fr;
  gap: 6px;
  background: linear-gradient(90deg, #f58a1f 0 4%, var(--menu-header) 4% 100%);
  color: #fff;
  padding: 8px 10px;
  font-size: 0.97rem;
  font-weight: 800;
  text-transform: uppercase;
}

.section-body {
  display: grid;
  grid-template-columns: 2.7fr 1fr;
  gap: 10px;
  padding: 8px 10px;
}

.section-rows {
  display: grid;
  grid-template-columns: 2fr 0.8fr 0.8fr 2fr 0.8fr 0.8fr;
  gap: 6px;
  align-items: center;
}

.section-gallery {
  display: grid;
  grid-template-columns: repeat(2, minmax(70px, 1fr));
  gap: 8px;
  align-content: start;
}

.section-gallery img {
  width: 100%;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: 50%;
  border: 3px solid #fff6;
  box-shadow: 0 7px 14px rgba(0, 0, 0, 0.2);
  background: #fff;
}

.cell { font-weight: 700; min-height: 1.15rem; }
.price { text-align: right; }

.menu-footer {
  margin-top: 1rem;
  text-align: center;
  border-top: 3px solid color-mix(in srgb, var(--menu-header) 48%, transparent);
  padding-top: 9px;
  font-weight: 800;
}

.page-break-after { break-after: page; page-break-after: always; }

@media (max-width: 1360px) {
  .section-body { grid-template-columns: 1fr; }
  .section-gallery { grid-template-columns: repeat(4, minmax(70px, 1fr)); }
}

@media (max-width: 1180px) {
  .layout { grid-template-columns: 1fr; }
  .controls-panel, .preview-panel { max-height: none; height: auto; position: static; }
}

@media print {
  @page { size: A4; margin: 8mm; }

  body { background: #fff; }
  .app-header, .controls-panel, .preview-panel > .panel-head { display: none; }

  .app-shell, .layout, .panel, .preview-panel {
    margin: 0;
    padding: 0;
    border: 0;
    border-radius: 0;
    box-shadow: none;
    background: transparent;
    display: block;
  }

  .preview-pages { gap: 0; }
  .menu-page {
    border: none;
    box-shadow: none;
    border-radius: 0;
    min-height: auto;
    margin: 0;
  }
}
